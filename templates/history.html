<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    {% load static %}
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css"
        integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
    <link rel="stylesheet" href="{% static "css/style.css" %}">
    <title>訂房系統</title>
    <style>
        .btn_goMain{
        position: absolute;
        left: 420pt;
        top: 40pt;
        height: 40pt;
        width: 70pt;
        font-size: 15pt;
        background-color:cadetblue;
        transition: all 1s 0s ease;

      }
      .btn_goMain:hover{
        background-color: lemonchiffon;
      }


      .btn_goInfo{
        position: absolute;
        left: 520pt;
        top: 40pt;
        height: 40pt;
        width: 100pt;
        font-size: 15pt;
        background-color:cadetblue;
        transition: all 1s 0s ease;

      }
      .btn_goInfo:hover{
        background-color: lemonchiffon;
      }


      .btn_goDonate{
        position: absolute;
        left: 660pt;
        top: 40pt;
        height: 40pt;
        width: 100pt;
        font-size: 15pt;
        background-color:cadetblue;
        transition: all 1s 0s ease;

      }
      .btn_goDonate:hover{
        background-color: lemonchiffon;
      }

        .search_room {
            height: 50pt;
            width: 120pt;
            font-size: 15pt;
            position: relative;
            background-color: rgb(107, 13, 196);
            color: yellow;
            top: 30pt;
            border: 2pt solid;
            border-color: black;
            line-height: 41pt;
            transition: all 1s 0s ease;
        }
        .search_room:hover {
            background-color: rgb(18, 11, 61);
            color: gold;
        }

        .search_history {
            height: 50pt;
            width: 120pt;
            font-size: 15pt;
            position: relative;
            background-color: rgb(107, 13, 196);
            color: yellow;
            top: 50pt;
            border: 2pt solid;
            border-color: black;
            line-height: 41pt;
            transition: all 1s 0s ease;
        }
        .search_history:hover {
            background-color: rgb(18, 11, 61);
            color: gold;
        }

        .help {
            height: 50pt;
            width: 120pt;
            font-size: 15pt;
            position: relative;
            background-color: rgb(107, 13, 196);
            color: yellow;
            top: 70pt;
            border: 2pt solid;
            border-color: black;
            line-height: 41pt;
            transition: all 1s 0s ease;
        }
        .help:hover {
            background-color: rgb(18, 11, 61);
            color: gold;
        }

        .search_by_room_id{
            display: inline-block;
            position: absolute;
            top:68pt;
            left:165pt;
        }

        .search_by_date{
            display: inline-block ;
            position: absolute;
            top:65pt;
            left :365pt;
        }



        .btn_history{
            display: inline-block ;
            position: absolute;
            top:65pt;
            left:565pt;
        }


        .d_class {
            position: relative;
            top: 90pt;
            height: 350pt;
        }

        .class_table {
            position: relative;
            /* top: 50pt; */
            background-color: lavender;
            border-color: black;

        }

        td {
            border: 3px solid;
            border-color: black;
        }

        tr {
            border: 3px solid;
            border-color: black;
        }

        th {
            border: 3px solid;
            border-color: black;
        }



    </style>
</head>

<body>
    <div class="container header">
        <h1>軟體工程訂房系統</h1>
        <ul class="nav justify-content-center">
        <li>
          <form action="/goMainPage/" method="post" name="goMain" id="goMain">
          {% csrf_token %}
          <a type="submit" class="btn btn-primary btn_goMain"  role="button"><strong>首頁</strong></a>
          </form>
        </li>
        <li>
          <form action="/goOurInfoPage/" method="post" name="goInfo" id="goInfo">
          {% csrf_token %}
          <a type="submit" class="btn btn-primary btn_goInfo"  role="button"><strong>關於我們</strong></a>
          </form>
        </li>
        <li>
           <form action="/goDonatePage/" method="post" name="goDonate" id="goDonate">
          {% csrf_token %}
          <a type="submit" class="btn btn-primary btn_goDonate"  role="button"><strong>斗內我們</strong></a>
          </form>
        </li>
      </ul>
    </div>

    <div class="container body1">


        <div class="container ui">
            <h2><strong>預約紀錄</strong></h2>

            <!-- <form action=""> -->

            <form action="/history/" method="post" id="history" name="history">
                {% csrf_token %}
                <div class="search_by_room_id">


                    <input class="op_roomID" list="op_roomID" id="roomID" name="roomID" value="" placeholder="教室1" autocomplete="off">
                    <datalist id="op_roomID">
                        <option value="教室1">
                        <option value="教室2">
                        <option value="教室3">
                        <option value="教室4">
                        <option value="教室5">
                        <option value="教室6">
                    </datalist>
                </div>
                <div class="search_by_date">

                    <input type="date" class="form-control" id="date" name="date" value="">
                </div>



                <div class="nav-item mt-2 ">
                    <a type="submit" class="btn btn-primary btn_history" style="width: 75px;" role="button">搜尋</a>
                </div>
            </form>



                <div class="text-center d_class" style="overflow-x:auto;">
                    <table class="table   history_table">
                        <thead>
                            <tr>
                                <th scope="col">教室編號</th>
                                <th scope="col">會議名稱</th>
                                <th scope="col">借用日期</th>
                                <th scope="col">開始節數</th>
                                <th scope="col">結束節數</th>
                            </tr>
                        </thead>
                        <tbody >
                            {% for i in stat %}
                                <tr>
                                    <td class="text-center align-middle">{{ i.roomID }}</td>
                                    <td class="text-center align-middle">{{ i.purpose }}</td>
                                    <td class="text-center align-middle">{{ i.date }}</td>
                                    <td class="text-center align-middle">{{ i.start }}</td>
                                    <td class="text-center align-middle">{{ i.end }}</td>
                                </tr>
                            {% endfor %}
                        </tbody>


                    </table>

    
                </div>
    

            <!-- </form> -->


        </div>
    </div>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js"
        integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js"
        integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k"
        crossorigin="anonymous"></script>

    <script type="text/javascript">

        $(document).ready(function () {


            $(".btn_history").click(function(){
                //var choise = document.getElementsByName('search');
                const roomID = document.getElementById('roomID').value;
                const date = document.getElementById('date').value;

                if(date.length == 0)
                        alert('請輸入日期');
                else if(roomID.length == 0)
                     document.getElementById('history').submit();
                else
                     document.getElementById('history').submit();

            })


            $(".btn_goMain").click(function(){
                    document.getElementById('goMain').submit();
            }
            )
             $(".btn_goInfo").click(function(){
                    document.getElementById('goInfo').submit();
            }
            )
            $(".btn_goDonate").click(function(){
                    document.getElementById('goDonate').submit();
            }
            )
        })




    </script>
    {% if messages %}
    <script>
        {% for msg in messages %}
            alert('{{ msg.message }}');
        {% endfor %}
    </script>
    {% endif %}



</body>

</html>